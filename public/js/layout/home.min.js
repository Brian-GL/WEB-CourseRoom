"use strict";async function ValidarNotificaciones(){try{let e=await axios({url:"/avisos/validar",baseURL:BaseURL,method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector("[name~=csrf-token][content]").content},data:null}),t=e.data;if(200===t.code){IconoNotificaciones.classList.replace("fa-envelope-open","fa-envelope-open-text");for(let e of t.data)MostrarNotificacion(e.tipoAviso,e.aviso,e.fechaRegistro)}else IconoNotificaciones.classList.replace("fa-envelope-open-text","fa-envelope-open")}catch(e){console.error(e)}}function ColorearWeb(){try{let t=document.getElementById("imagen-usuario");if(void 0!==t.src&&""!==t.scr){const o=new ColorThief;let a,r,n,l,i,c,s=o.getPalette(t,15),d=0,m=RandomInt(1,8),g=RandomInt(8,15);if(null!=s&&s.length>0){for(let e of s){switch(d){case 0:a="rgb(".concat(e,")"),l=e[1]>=127?"rgb(0,0,0)":"rgb(255,255,255)",localStorage.setItem("PrimerColor",a),localStorage.setItem("PrimerColorLetra",l);break;case m:r="rgb(".concat(e,")"),i=e[1]>=127?"rgb(0,0,0)":"rgb(255,255,255)",localStorage.setItem("SegundoColor",r),localStorage.setItem("SegundoColorLetra",i);break;case g:n="rgb(".concat(e,")"),c=e[1]>=127?"rgb(0,0,0)":"rgb(255,255,255)",localStorage.setItem("TercerColor",n),localStorage.setItem("TercerColorLetra",c)}d++}let t="linear-gradient(to bottom, ".concat(a,", ",r,",",n,")");document.getElementById("fondo").style.background=t,document.getElementById("inicio-offcanvas").style.background=t;let o=document.getElementsByClassName("primer-color-letra");for(let e of o)e.style.setProperty("color",l,"important");o=document.getElementsByClassName("primer-color-fondo");for(let e of o)e.style.setProperty("background-color",a,"important"),ElementsRegex.test(e.tagName)&&e.classList.add("rgb(0,0,0)"===l?"black-placeholder":"white-placeholder");o=document.getElementsByClassName("segundo-color-letra");for(let e of o)e.style.setProperty("color",i,"important");o=document.getElementsByClassName("segundo-color-fondo");for(let e of o)e.style.setProperty("background-color",r,"important"),ElementsRegex.test(e.tagName)&&e.classList.add("rgb(0,0,0)"===i?"black-placeholder":"white-placeholder");for(var e of(o=document.getElementsByClassName("tercer-color-letra"),o))e.style.setProperty("color",c,"important");for(var e of(o=document.getElementsByClassName("tercer-color-fondo"),o))e.style.setProperty("background-color",n,"important"),ElementsRegex.test(e.tagName)&&e.classList.add("rgb(0,0,0)"===c?"black-placeholder":"white-placeholder")}}}catch(e){console.error(e)}}async function NotificationsThread(){let e=!1,t=0;const o={year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:"America/Panama"};for(;;){if(e)for(;t<10;){let e=new Date;ElementoReloj.innerText=e.toLocaleString("es-MX",o),await Sleep(1e3),t+=1}e=!0,t=0,ValidarNotificaciones()}}function RandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}let Preloader,IconoNotificaciones,ElementoReloj,SpacesRegex=/^\s+/,DigitsRegex=/[^\d].+/,ElementsRegex=/(INPUT|A)/,AsciiAccents=[241,209,192,239,180,186,211,201,193,205,218,225,233,237,243,250],BaseURL=window.location.origin;document.addEventListener("DOMContentLoaded",()=>{Preloader=document.getElementById("preloader"),Preloader.hidden=!0,IconoNotificaciones=document.getElementById("icono-notificaciones"),ElementoReloj=document.getElementById("reloj"),NotificationsThread(),ColorearWeb()},!1),$(".alphabetic").on("keyup keypress blur",function(e){(e.which<65&&32!=e.which&&e.which<65&&16!=e.which||e.which>90&&e.which<97||e.which>122&&!AsciiAccents.includes(e.which))&&e.preventDefault()}),$(".emailing").on("keyup keypress blur",e=>{32===e.which&&e.preventDefault()}),$(".numeric").on("keyup keypress blur",e=>{e.which<48&&e.which>57&&e.preventDefault()}),document.getElementById("cerrar-sesion").addEventListener("click",async()=>{try{Swal.fire({title:"Cerrar SesiÃ³n",text:"Â¿EstÃ¡ segur@ de cerrar la sesiÃ³n?",imageUrl:window.SadOwl,imageWidth:100,imageHeight:123,background:"#000000",color:"#FFFFFF",imageAlt:"Alert Image",showCloseButton:!0,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"SÃ­, ya estudiÃ© demasiado ðŸ˜©",denyButtonText:"No, me falta aprender ciertas cosas ðŸ˜Ž"}).then(async e=>{if(e.isConfirmed){ShowPreloader();let e=await axios({url:"/usuarios/sesion",baseURL:BaseURL,method:"PUT",headers:{"X-CSRF-TOKEN":document.head.querySelector("[name~=csrf-token][content]").content},data:null});HidePreloader();let t=e.data;switch(t.code){case 200:window.location.href="/";break;case 500:Swal.fire({title:"Â¡Error!",text:t.data,imageUrl:window.SadOwl,imageWidth:100,imageHeight:123,background:"#000000",color:"#FFFFFF",imageAlt:"Error Image"});break;default:Swal.fire({title:"Â¡Alerta!",text:t.data,imageUrl:window.IndifferentOwl,imageWidth:100,imageHeight:123,imageAlt:"Alert Image",background:"#000000",color:"#FFFFFF"})}}})}catch(e){HidePreloader(),Swal.fire({title:"Â¡Error!",text:e,imageUrl:window.SadOwl,imageWidth:100,imageHeight:123,background:"#000000",color:"#FFFFFF",imageAlt:"Error Image"})}}),window.ShowPreloader=function(){Preloader.hidden=!1},window.HidePreloader=function(){Preloader.hidden=!0},window.AvailableString=function(e){return""===e||null==e?null:e.trim()},window.MostrarNotificacion=function(e,t,o){let a=o.substring(0,o.length-1),r=dayjs(a).format("dddd DD MMM YYYY h:mm A");toastr.info('<span class="fuenteNormal fw-semibold d-block">'.concat('<i class="fa-regular fa-bell"></i>&nbsp; Aviso de ',e,'</span><span class="fuenteNormal d-block">&nbsp;',t,'</span><span class="d-block text-end">',r,"</span>"),{closeButton:!1,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"})},window.HappyOwl=document.getElementById("happy-owl").value,window.IndifferentOwl=document.getElementById("indifferent-owl").value,window.SadOwl=document.getElementById("sad-owl").value,window.GetBase64FromUrl=(async e=>{const t=await fetch(e),o=await t.blob();return new Promise(e=>{const t=new FileReader;t.readAsDataURL(o),t.onloadend=(()=>{const o=t.result;e(o)})})}),window.Sleep=async function(e){return new Promise(t=>setTimeout(t,e))};